# COMPLETE DOCUMENTATION INDEX
# –í—Å–µ 10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

**–í–µ—Ä—Å–∏—è:** 4.0 (—Å –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º–∏)  
**–î–∞—Ç–∞:** 29 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ COMPLETE & PRODUCTION READY  

---

## üì¶ –ü–û–õ–ù–´–ô –ù–ê–ë–û–† –î–û–ö–£–ú–ï–ù–¢–û–í (10 —à—Ç)

### TIER 1: –ù–ê–ß–ù–ò–¢–ï –û–¢–°–Æ–î–ê

#### 1. README.md (5 —Å—Ç—Ä) üìå
**–î–ª—è:** –í—Å–µ  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –í–ø–µ—Ä–≤—ã–µ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–º–µ–Ω—Ç–∞ (MUST READ)
- –ß–µ–∫–ª–∏—Å—Ç—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

**–ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
‚Üí tz-for-client.md (–¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞)
‚Üí tz-for-developer.md (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
‚Üí integration-deployment-guide.md (–¥–ª—è DevOps)

---

### TIER 2: –î–õ–Ø –ö–ê–ñ–î–û–ô –†–û–õ–ò

#### 2. tz-for-client.md (8 —Å—Ç—Ä) üëî
**–î–ª—è:** –ó–∞–∫–∞–∑—á–∏–∫, –∏–Ω–≤–µ—Å—Ç–æ—Ä—ã, –ø—Ä–æ–¥–∞–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä—ã  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –±–∏–∑–Ω–µ—Å-—Å–º—ã—Å–ª  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- Executive Summary (30 —Å–µ–∫ –¥–ª—è CEO)
- –ë–∏–∑–Ω–µ—Å-—Ü–µ–ª–∏: –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, revenue
- User personas: IT —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, privacy-—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–µ
- –¢–∞—Ä–∏—Ñ—ã –∏ —Ü–µ–Ω—ã (–≤ Telegram Stars)
- –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞: DAU, ARPU, LTV
- Roadmap –Ω–∞ Q1-Q4 2026
- Competitive analysis

**–ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
‚Üí phase-1-mvp.md (timeline —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
‚Üí integration-deployment-guide.md (cost of operations)

---

#### 3. tz-for-developer.md (15 —Å—Ç—Ä) üíª
**–î–ª—è:** LLM-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (Claude, GPT, Llama)  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –ù—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üéØ Quick Start –¥–ª—è LLM (10 –º–∏–Ω—É—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è)
- üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: VPS #1 (Yandex) + VPS #2 (ishosting)
- üóÑÔ∏è Prisma schema (copy-paste ready)
- üö® 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
  - Pre-checkout timeout fix
  - Payment idempotency
  - Dual VPN configs
  - FSM setup
- üîå REST API (–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è)
- üîê Security best practices
- üéØ Acceptance Criteria

**–ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
‚Üí phase-1-mvp.md (Phase 1 —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)
‚Üí vpn-service-api-spec.md (–¥–µ—Ç–∞–ª—å–Ω–∞—è API –¥–ª—è VPS #2)
‚Üí subscription-renewal-logic.md (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π)
‚Üí fsm-qr-database.md (FSM, QR, indices)

---

### TIER 3: –§–ê–ó–´ –†–ê–ó–†–ê–ë–û–¢–ö–ò

#### 4. phase-1-mvp.md (12 —Å—Ç—Ä) üöÄ
**–î–ª—è:** PHASE 1 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (5-7 –¥–Ω–µ–π)  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –ù–∞—á–∏–Ω–∞–µ—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üìã –°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è MVP
- ‚úÖ User registration (/start command)
- ‚úÖ Tariff system + inline buttons
- ‚úÖ Telegram Stars payments (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º timeout!)
- ‚úÖ Trial subscription (1 –¥–µ–Ω—å)
- ‚úÖ VPN config generation (2 –ø—Ä–æ—Ç–æ–∫–æ–ª–∞)
- ‚úÖ Admin commands (/stats, /user, /block_user)
- üíª –ì–æ—Ç–æ–≤—ã–π TypeScript –∫–æ–¥ –¥–ª—è copy-paste

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:**
‚Üí integration-deployment-guide.md (setup)
‚Üí subscription-renewal-logic.md (NEW_USER scenario)
‚Üí vpn-service-api-spec.md (config generation)
‚Üí fsm-qr-database.md (QR codes, database indexes)

---

#### 5. phase-2-features.md (10 —Å—Ç—Ä) ‚ú®
**–î–ª—è:** PHASE 2 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (3-5 –¥–Ω–µ–π)  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –î–æ–±–∞–≤–ª—è–µ—Ç–µ —Ñ–∏—à–∫–∏ –ø–æ—Å–ª–µ MVP  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ Referral system (links + rewards)
- ‚úÖ BullMQ notification queue
- ‚úÖ Cron jobs (subscription expiry check)
- ‚úÖ Support system —Å FSM
- ‚úÖ Admin reply functionality
- ‚úÖ Broadcast to users
- üíª –ì–æ—Ç–æ–≤—ã–π –∫–æ–¥ –¥–ª—è copy-paste

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:**
‚Üí subscription-renewal-logic.md (expiry logic)
‚Üí fsm-qr-database.md (FSM states + Redis storage)
‚Üí integration-deployment-guide.md (BullMQ setup)

---

### TIER 4: –î–ï–¢–ê–õ–¨–ù–´–ï –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–ò

#### 6. vpn-service-api-spec.md (25 —Å—Ç—Ä) üîå
**–î–ª—è:** VPN Service —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (VPS #2)  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ VPN API  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ VPS #2
- üîê Authentication (Bearer token + IP whitelist)
- üìã 5 –ø–æ–ª–Ω—ã—Ö endpoints:
  - POST /api/v1/configs/create
  - POST /api/v1/configs/revoke
  - GET /api/v1/configs/status
  - POST /api/v1/keys/rotate
  - POST /api/v1/diagnostics/test
- üîë Key generation (WireGuard + VLESS)
- üöÄ Rate limiting & Circuit Breaker
- üìä Monitoring & health checks
- üê≥ Docker & systemd setup
- ‚úÖ Unit + integration tests

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
‚Üê phase-1-mvp.md (–≤—ã–∑—ã–≤–∞–µ—Ç create_config)
‚Üê subscription-renewal-logic.md (–≤—ã–∑—ã–≤–∞–µ—Ç revoke_configs)

**–ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
‚Üí fsm-qr-database.md (QR generation, production .env)

---

#### 7. subscription-renewal-logic.md (20 —Å—Ç—Ä) üí≥
**–î–ª—è:** Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (payment logic)  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –†–µ–∞–ª–∏–∑—É–µ—Ç–µ –ª–æ–≥–∏–∫—É –ø–ª–∞—Ç–µ–∂–µ–π  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üéØ 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
  - NEW_USER: –ü–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞
  - RENEW: –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Ç–æ–≥–æ –∂–µ —Ç–∞—Ä–∏—Ñ–∞
  - UPGRADE: –ê–ø–≥—Ä–µ–π–¥ –Ω–∞ –¥–æ—Ä–æ–≥–æ–π
  - DOWNGRADE: –î–∞—É–Ω–≥—Ä–µ–π–¥ (–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π)
  - CROSS_PURCHASE: –î—Ä—É–≥–æ–π —Ç–∞—Ä–∏—Ñ
- üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º determinePurchaseScenario()
- üíª –ü–æ–ª–Ω–∞—è TypeScript —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- üí∞ Refund & compensation logic
- ü§ñ Auto-renewal —Å cron
- üóÑÔ∏è Database constraints
- ‚úÖ Testing scenarios

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
‚Üê phase-1-mvp.md (–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ successful_payment)
‚Üê phase-2-features.md (–≤ cron job'–µ)

**–ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
‚Üí vpn-service-api-spec.md (revoke configs –ø—Ä–∏ upgrade)

---

#### 8. fsm-qr-database.md (22 —Å—Ç—Ä) ‚öôÔ∏è
**–î–ª—è:** Backend + Database —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –†–µ–∞–ª–∏–∑—É–µ—Ç–µ FSM, QR –∫–æ–¥—ã, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç–µ DB  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üéØ FSM state machine (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ tickets):
  - State diagram
  - –í—Å–µ transitions
  - Handler implementations
- üî≤ QR code generation:
  - VPN Service –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR (Base64 PNG)
  - Transmission —á–µ—Ä–µ–∑ API
  - Display –≤ Telegram
- üåê Circuit breaker pattern –¥–ª—è webhook
- üìä 15+ database indexes
- üõ°Ô∏è Production .env template

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
‚Üê phase-2-features.md (support ticket FSM)
‚Üê phase-1-mvp.md (QR –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö, database indexes)

---

### TIER 5: DEPLOYMENT & OPERATIONS

#### 9. integration-deployment-guide.md (20 —Å—Ç—Ä) üê≥
**–î–ª—è:** DevOps, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ –≤ production  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üèóÔ∏è Project structure (–≥–æ—Ç–æ–≤–∞—è –ø–∞–ø–∫–∞)
- üõ†Ô∏è Development setup (5 –º–∏–Ω—É—Ç)
- üóÑÔ∏è PostgreSQL + Prisma
- üîß Environment variables (.env)
- üê≥ Docker & docker-compose.yml
- üöÄ Production deployment (systemd)
- üîó Telegram webhook setup
- üîå VPN API client (—Å retry logic)
- ‚úÖ Testing & validation
- üìä Monitoring & logging
- üîß Troubleshooting guide
- üì¶ –ì–æ—Ç–æ–≤—ã–µ Dockerfile, docker-compose, systemd

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
‚Üê phase-1-mvp.md (setup –ø–µ—Ä–µ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π)
‚Üê phase-2-features.md (BullMQ, monitoring setup)

---

#### 10. docs-index.md (5 —Å—Ç—Ä) üó∫Ô∏è
**–î–ª—è:** –í—Å–µ  
**–ß–∏—Ç–∞–π—Ç–µ –µ—Å–ª–∏:** –û—Ä–∏–µ–Ω—Ç–∏—Ä—É–µ—Ç–µ—Å—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö  
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üì¶ –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üéØ –ü—É—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–æ –¥–Ω—è–º
- üìã –ß–µ–∫–ª–∏—Å—Ç—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- üîó –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏
- üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞–∫–µ—Ç–∞
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

### –ë–û–ù–£–°: –ê–†–•–ò–í–ù–û–ï –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–ò–ï

#### improved-tz-v3.md (30 —Å—Ç—Ä) üìö
**–ê—Ä—Ö–∏–≤–Ω–æ–µ** —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π v3.0  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —ç–≤–æ–ª—é—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

## üéØ –ü–£–¢–¨ –†–ê–ó–†–ê–ë–û–¢–ö–ò –ü–û –î–û–ö–£–ú–ï–ù–¢–ê–ú

### –î–µ–Ω—å 1: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (3-4 —á–∞—Å–∞)
```
1. README.md (5 –º–∏–Ω)           ‚Üí –û–±—â–∏–π –æ–±–∑–æ—Ä
2. tz-for-developer.md (30 –º–∏–Ω) ‚Üí –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
3. phase-1-mvp.md (30 –º–∏–Ω)     ‚Üí –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Phase 1
4. vpn-service-api-spec.md     ‚Üí API endpoints
   (15 –º–∏–Ω - —Ç–æ–ª—å–∫–æ POST /create, POST /revoke, GET /status)
5. subscription-renewal-logic.md (20 –º–∏–Ω) ‚Üí NEW_USER scenario
```

### –î–µ–Ω—å 2: Setup (1-2 —á–∞—Å–∞)
```
1. integration-deployment-guide.md ‚Üí Project structure
2. integration-deployment-guide.md ‚Üí Database setup
3. –ü–µ—Ä–≤—ã–µ 30 –º–∏–Ω—É—Ç: npm install + docker-compose up
```

### –î–µ–Ω—å 3-7: PHASE 1 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (40-50 —á–∞—Å–æ–≤)
```
1. phase-1-mvp.md ‚Üí –°–ª–µ–¥—É–π—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
2. subscription-renewal-logic.md ‚Üí –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
3. vpn-service-api-spec.md ‚Üí POST /create (config generation)
4. fsm-qr-database.md ‚Üí QR codes, database indexes
5. integration-deployment-guide.md ‚Üí Deployment –Ω–∞ –¥–µ–Ω—å 7
```

### –î–µ–Ω—å 8-12: PHASE 2 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (30-40 —á–∞—Å–æ–≤)
```
1. phase-2-features.md ‚Üí –°–ª–µ–¥—É–π—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É —Ñ–∏—à–µ–∫
2. subscription-renewal-logic.md ‚Üí UPGRADE/DOWNGRADE scenarios
3. fsm-qr-database.md ‚Üí FSM state machine
4. integration-deployment-guide.md ‚Üí BullMQ setup
```

### –î–µ–Ω—å 13: Production Deployment (8 —á–∞—Å–æ–≤)
```
1. integration-deployment-guide.md ‚Üí Production deployment
2. fsm-qr-database.md ‚Üí Production .env
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
```

---

## üìä –ë–´–°–¢–†–ê–Ø –¢–ê–ë–õ–ò–¶–ê: –ö–ê–ö–û–ô –î–û–ö–£–ú–ï–ù–¢ –ß–ò–¢–ê–¢–¨?

| –í–æ–ø—Ä–æ—Å | –î–æ–∫—É–º–µ–Ω—Ç | –†–∞–∑–¥–µ–ª |
|--------|----------|--------|
| –ö—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR –∫–æ–¥—ã? | vpn-service-api-spec.md | üî≤ QR CODE GENERATION |
| –ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∞–ø–≥—Ä–µ–π–¥ —Ç–∞—Ä–∏—Ñ–∞? | subscription-renewal-logic.md | –°—Ü–µ–Ω–∞—Ä–∏–π 3: UPGRADE |
| –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–ª–∞—Ç–µ–∂–µ –¥–≤–∞–∂–¥—ã? | subscription-renewal-logic.md | –°—Ü–µ–Ω–∞—Ä–∏–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è |
| FSM –¥–ª—è support tickets? | fsm-qr-database.md | üéØ FINITE STATE MACHINE |
| Database indexes? | fsm-qr-database.md | üìä DATABASE INDEXES |
| –ö–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ prod? | integration-deployment-guide.md | üê≥ DOCKER & DEPLOYMENT |
| Webhook rate limiting? | fsm-qr-database.md | üåê WEBHOOK RATE LIMITING |
| Pre-checkout timeout? | tz-for-developer.md | üö® –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï #1 |
| Cron –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫? | subscription-renewal-logic.md | ‚öôÔ∏è –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ü–†–û–î–õ–ï–ù–ò–ï |
| VPN API endpoints? | vpn-service-api-spec.md | üìã ENDPOINTS SPECIFICATION |
| –†–µ—Ñ—É–Ω–¥ –∑–∞ –æ—à–∏–±–∫—É? | subscription-renewal-logic.md | üí≥ REFUND & COMPENSATION |
| Production .env? | fsm-qr-database.md | ‚öôÔ∏è PRODUCTION .env TEMPLATE |

---

## üîó –ü–ï–†–ï–ö–†–Å–°–¢–ù–´–ï –°–°–´–õ–ö–ò (–¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)

**tz-for-developer.md ‚Üî vpn-service-api-spec.md**
- tz-for-developer: "REST API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è" ‚Üí vpn-service-api-spec.md –ø–æ–ª–Ω–æ—Å—Ç—å—é

**phase-1-mvp.md ‚Üî subscription-renewal-logic.md**
- phase-1-mvp: "Telegram Stars –ü–ª–∞—Ç–µ–∂–∏" ‚Üí subscription-renewal-logic.md: NEW_USER scenario
- phase-1-mvp: "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤" ‚Üí vpn-service-api-spec.md: POST /create

**phase-1-mvp.md ‚Üî fsm-qr-database.md**
- phase-1-mvp: "QR –∫–æ–¥—ã –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö" ‚Üí fsm-qr-database.md: QR CODE GENERATION
- phase-1-mvp: "Database schema" ‚Üí fsm-qr-database.md: DATABASE INDEXES

**phase-2-features.md ‚Üî fsm-qr-database.md**
- phase-2-features: "Support system" ‚Üí fsm-qr-database.md: FSM STATE MACHINE
- phase-2-features: "BullMQ setup" ‚Üí integration-deployment-guide.md: BullMQ workers

**integration-deployment-guide.md ‚Üî fsm-qr-database.md**
- integration-deployment-guide: "Environment variables" ‚Üí fsm-qr-database.md: Production .env

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –í–°–ï–ì–û –ü–ê–ö–ï–¢–ê

```
–î–æ–∫—É–º–µ–Ω—Ç–æ–≤:           10 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 1 –∞—Ä—Ö–∏–≤–Ω—ã–π
–û–±—â–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:        ~115 —Å—Ç—Ä–∞–Ω–∏—Ü
–û–±—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤:       ~320,000 —Å–∏–º–≤–æ–ª–æ–≤
TypeScript –ø—Ä–∏–º–µ—Ä–æ–≤:  80+ –ø—Ä–∏–º–µ—Ä–æ–≤
SQL –ø—Ä–∏–º–µ—Ä–æ–≤:         15+ –ø—Ä–∏–º–µ—Ä–æ–≤
–î–∏–∞–≥—Ä–∞–º–º:            6+ –¥–∏–∞–≥—Ä–∞–º–º
–ß–µ–∫–ª–∏—Å—Ç–æ–≤:           150+ –ø—É–Ω–∫—Ç–æ–≤
API endpoints:       5 –ø–æ–ª–Ω—ã—Ö + –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
FSM states:          4 –ø–æ–ª–Ω—ã—Ö
Scenarios:           5 –ø–æ–ª–Ω—ã—Ö
Database indexes:    15+
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
```bash
- Node.js 20+
- PostgreSQL 13+
- Redis 7+
- Docker & Docker Compose
```

### –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ credentials
```bash
- Telegram Bot Token –æ—Ç @BotFather
- VPS –¥–ª—è Bot Service
- VPS –¥–ª—è VPN Service
```

### –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
```bash
- README.md (5 –º–∏–Ω)
- tz-for-developer.md (30 –º–∏–Ω)
- phase-1-mvp.md (30 –º–∏–Ω)
```

### –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
```bash
npm install
cp .env.example .env
docker-compose up -d
npm run migrate
npm run dev
```

---

## üöÄ –ë–´–°–¢–†–´–ï –°–°–´–õ–ö–ò

| –ù—É–∂–Ω–æ | –§–∞–π–ª | –†–∞–∑–¥–µ–ª |
|------|------|--------|
| **–ù–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç** | README.md | üéØ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ |
| **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** | phase-1-mvp.md | –í–µ—Å—å —Ñ–∞–π–ª |
| **Deployment** | integration-deployment-guide.md | üê≥ DOCKER & DEPLOYMENT |
| **API –¥–ª—è VPS #2** | vpn-service-api-spec.md | üìã ENDPOINTS |
| **–ü–ª–∞—Ç–µ–∂–∏ & –ø–æ–¥–ø–∏—Å–∫–∏** | subscription-renewal-logic.md | –í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ |
| **FSM & QR –∫–æ–¥—ã** | fsm-qr-database.md | –í—Å–µ —Ä–∞–∑–¥–µ–ª—ã |
| **Troubleshooting** | integration-deployment-guide.md | üîß TROUBLESHOOTING |

---

## üéâ –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï!

–í—Å–µ 10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≥–æ—Ç–æ–≤—ã –∏ –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞.

**–ù–ê–ß–ù–ò–¢–ï:**
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ README.md
2. –°–ª–µ–¥—É–π—Ç–µ phase-1-mvp.md
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–∞–∫ reference

**–£–°–ü–ï–•–ê! üöÄ**

---

**–í–µ—Ä—Å–∏—è:** 4.0  
**–î–∞—Ç–∞:** 29 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ COMPLETE, CROSS-LINKED, PRODUCTION READY
